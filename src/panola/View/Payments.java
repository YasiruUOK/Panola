/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package panola.View;

import java.awt.Color;
import java.awt.event.MouseEvent;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;
import javax.swing.JMenu;
import javax.swing.JOptionPane;
import javax.swing.Popup;
import javax.swing.table.DefaultTableModel;
import org.jdesktop.swingx.JXLabel;
import panola.Controller.StudentClassFeeController;
import panola.Controller.StudentController;
import panola.Controller.SubjectController;
import panola.model.BatchSubjectWithStudentDetails;
import panola.model.Student;
import panola.model.StudentAddmissionDetails;
import panola.model.StudentBatchSubjectDetails;
import panola.model.StudentClassFeePayment;
import panola.other.Methods;
import java.util.Calendar;
import java.util.Locale;
import java.util.Map;
import javax.swing.JLabel;
import javax.swing.JPanel;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperCompileManager;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.data.JRTableModelDataSource;
import net.sf.jasperreports.view.JasperViewer;
import org.hsqldb.lib.HashMap;
import panola.Controller.AddmitionController;
import panola.Controller.PaymentController;
import panola.Controller.StudentBatchSubjectDetailsController;
import panola.Controller.StudentImageController;
import static panola.View.MainWindow.dateLable;
import panola.db.DBConnection;
import panola.model.AddmissionPaymentDetails;
import panola.model.Addmition;
import panola.model.Payment;
import panola.model.PaymentHistory;
import panola.model.StudentImage;
import panola.other.IDGenarator;

/**
 *
 * @author Yasiru
 */
public class Payments extends javax.swing.JFrame {

    /**
     * Creates new form UserLogin
     */
    public Payments() {
        initComponents();
        //ImageIcon imageIcon = new ImageIcon("./src/panola/images/insegnare-assistente-italiano-estero-austria-vienna (Custom).png");
        //jXImagePanel1.setImage(imageIcon.getImage());
        setDateAndTime();
        try {
            Methods.fillBatchCombo(batchComboAddmissionClass);
            Methods.fillSubjectCombo(subjctComboAddmissionClass);
            Methods.fillSubjectCombo(subjectComboClassFeeClass);
            Methods.fillBatchCombo(batchComboClassFeeClass);
            Methods.fillBatchCombo(batchComboArrearsClass);
            Methods.fillSubjectCombo(subjectComboArrearsClass);
            Methods.tabPaneTransparance(TabPane);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
        yearSpinner.setValue(2016);
        monthSpinner.setValue(1);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        utilDateModel1 = new org.jdatepicker.impl.UtilDateModel();
        studentPopupMenu = new javax.swing.JPopupMenu();
        newStudent = new javax.swing.JMenuItem();
        viewStudent = new javax.swing.JMenuItem();
        subjectPopupMenu = new javax.swing.JPopupMenu();
        newSubject = new javax.swing.JMenuItem();
        viewSubject = new javax.swing.JMenuItem();
        jXImagePanel1 = new org.jdesktop.swingx.JXImagePanel();
        jLabel2 = new javax.swing.JLabel();
        TimeLable = new javax.swing.JLabel();
        dateLable = new javax.swing.JLabel();
        jSeparator1 = new javax.swing.JSeparator();
        jButton3 = new javax.swing.JButton();
        TabPane = new javax.swing.JTabbedPane();
        jPanel2 = new javax.swing.JPanel();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        jPanel7 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        nicText = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        nameText = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        paidDatetext = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        paidAmountText = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        jLabel11 = new javax.swing.JLabel();
        addressText = new javax.swing.JTextField();
        phoneNumberText = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        studentImagePanel1 = new javax.swing.JPanel();
        jPanel8 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        batchComboAddmissionClass = new javax.swing.JComboBox();
        categoryComboAddmissionclass = new javax.swing.JComboBox();
        jLabel8 = new javax.swing.JLabel();
        subjctComboAddmissionClass = new javax.swing.JComboBox();
        jLabel14 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        addmissionPamentDetailstable = new javax.swing.JTable();
        serachButtonAddmissionClass = new javax.swing.JButton();
        jLabel18 = new javax.swing.JLabel();
        fromDate = new org.jdesktop.swingx.JXDatePicker();
        jLabel19 = new javax.swing.JLabel();
        toDate = new org.jdesktop.swingx.JXDatePicker();
        jLabel20 = new javax.swing.JLabel();
        totalIncometextAddmissionClass = new javax.swing.JTextField();
        PrintButtonAddmission = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        jTabbedPane3 = new javax.swing.JTabbedPane();
        jPanel10 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        nicTextStudentClassFee = new javax.swing.JTextField();
        jLabel23 = new javax.swing.JLabel();
        nameTextStudentClassFee = new javax.swing.JTextField();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        acceptClassFeeButton = new javax.swing.JButton();
        jLabel26 = new javax.swing.JLabel();
        addressTextStudentClassFee = new javax.swing.JTextField();
        contatctNumberTextStudentClassFee = new javax.swing.JTextField();
        jLabel27 = new javax.swing.JLabel();
        batchCombo = new javax.swing.JComboBox();
        subjectCombo = new javax.swing.JComboBox();
        jScrollPane5 = new javax.swing.JScrollPane();
        classFeeTable = new javax.swing.JTable();
        jLabel41 = new javax.swing.JLabel();
        arrearsText = new javax.swing.JTextField();
        jLabel42 = new javax.swing.JLabel();
        piadAmountTextClassFee = new javax.swing.JTextField();
        jLabel43 = new javax.swing.JLabel();
        balanceTextClassFee = new javax.swing.JTextField();
        jLabel66 = new javax.swing.JLabel();
        categoryCombo = new javax.swing.JComboBox();
        searchButton = new javax.swing.JButton();
        studentImagePanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel11 = new javax.swing.JPanel();
        jLabel29 = new javax.swing.JLabel();
        batchComboClassFeeClass = new javax.swing.JComboBox();
        categoryComboClassFeeClass = new javax.swing.JComboBox();
        jLabel30 = new javax.swing.JLabel();
        subjectComboClassFeeClass = new javax.swing.JComboBox();
        jLabel32 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        classFeeClasstable = new javax.swing.JTable();
        searchButtonClassFeeClass = new javax.swing.JButton();
        jLabel33 = new javax.swing.JLabel();
        dateFromComboClassFeeClass = new org.jdesktop.swingx.JXDatePicker();
        jLabel34 = new javax.swing.JLabel();
        dateToComboClassFeeClass = new org.jdesktop.swingx.JXDatePicker();
        jLabel35 = new javax.swing.JLabel();
        totalClassFeeClass = new javax.swing.JTextField();
        printButon = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jLabel36 = new javax.swing.JLabel();
        dateFromComboClassFeeInstitute = new org.jdesktop.swingx.JXDatePicker();
        jLabel37 = new javax.swing.JLabel();
        dateToComboClassFeeInstitute = new org.jdesktop.swingx.JXDatePicker();
        searchButtonClassFeeInstitute = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        ClassFeeInstitute = new javax.swing.JTable();
        jLabel6 = new javax.swing.JLabel();
        totalTextClasseFeeInstitute = new javax.swing.JTextField();
        printButtonIntituteClassFee = new javax.swing.JButton();
        jTabbedPane6 = new javax.swing.JTabbedPane();
        jPanel18 = new javax.swing.JPanel();
        jLabel69 = new javax.swing.JLabel();
        batchComboArrearsClass = new javax.swing.JComboBox();
        subjectComboArrearsClass = new javax.swing.JComboBox();
        jLabel70 = new javax.swing.JLabel();
        categoryComboArrearsClass = new javax.swing.JComboBox();
        jLabel71 = new javax.swing.JLabel();
        searchArrearsClassButton = new javax.swing.JButton();
        jScrollPane10 = new javax.swing.JScrollPane();
        ArrearsTable = new javax.swing.JTable();
        jLabel13 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        yearSpinner = new javax.swing.JSpinner();
        monthSpinner = new javax.swing.JSpinner();
        printButton = new javax.swing.JButton();

        studentPopupMenu.setAlignmentX(1000.0F);
        studentPopupMenu.setAlignmentY(1000.0F);
        studentPopupMenu.setEnabled(false);

        newStudent.setFont(new java.awt.Font("Segoe UI", 0, 24)); // NOI18N
        newStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/1417001539_add_48 (Custom).png"))); // NOI18N
        newStudent.setText("New");
        newStudent.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                newStudentMouseClicked(evt);
            }
        });
        newStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                newStudentActionPerformed(evt);
            }
        });
        studentPopupMenu.add(newStudent);

        viewStudent.setFont(new java.awt.Font("Segoe UI", 0, 24)); // NOI18N
        viewStudent.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/1417001562_search_48 (Custom).png"))); // NOI18N
        viewStudent.setText("View Details");
        viewStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                viewStudentActionPerformed(evt);
            }
        });
        studentPopupMenu.add(viewStudent);

        subjectPopupMenu.setAlignmentX(-1000.0F);
        subjectPopupMenu.setAlignmentY(-1000.0F);

        newSubject.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
        newSubject.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/1417001539_add_48 (Custom).png"))); // NOI18N
        newSubject.setText("New");
        subjectPopupMenu.add(newSubject);

        viewSubject.setFont(new java.awt.Font("Segoe UI", 0, 18)); // NOI18N
        viewSubject.setText("View");
        subjectPopupMenu.add(viewSubject);

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Panola Institute Of Education");

        jXImagePanel1.setBackground(new java.awt.Color(255, 255, 255));

        jLabel2.setFont(new java.awt.Font("MV Boli", 0, 24)); // NOI18N
        jLabel2.setText("Payments");

        TimeLable.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        TimeLable.setText("jLabel4");

        dateLable.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        dateLable.setText("jLabel4");

        jSeparator1.setFont(new java.awt.Font("Tahoma", 3, 11)); // NOI18N

        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/home (Custom).jpg"))); // NOI18N
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        TabPane.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N

        jTabbedPane2.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jPanel7.setBackground(new java.awt.Color(93, 155, 229));

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel4.setText("NIC");

        nicText.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        nicText.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nicTextActionPerformed(evt);
            }
        });
        nicText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                nicTextKeyReleased(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel5.setText("Name");

        nameText.setEditable(false);
        nameText.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel9.setText("Paid Date");

        paidDatetext.setEditable(false);
        paidDatetext.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jLabel10.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel10.setText("Paid Amount");

        paidAmountText.setEditable(false);
        paidAmountText.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/1417001550_accepted_48.png"))); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel11.setText("Address");

        addressText.setEditable(false);
        addressText.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        phoneNumberText.setEditable(false);
        phoneNumberText.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel12.setText("Contact Number");

        javax.swing.GroupLayout studentImagePanel1Layout = new javax.swing.GroupLayout(studentImagePanel1);
        studentImagePanel1.setLayout(studentImagePanel1Layout);
        studentImagePanel1Layout.setHorizontalGroup(
            studentImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 276, Short.MAX_VALUE)
        );
        studentImagePanel1Layout.setVerticalGroup(
            studentImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addGap(16, 16, 16)
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(nameText, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPanel7Layout.createSequentialGroup()
                                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel7Layout.createSequentialGroup()
                                                .addGap(43, 43, 43)
                                                .addComponent(addressText, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(nicText, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                            .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addGroup(jPanel7Layout.createSequentialGroup()
                                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(paidAmountText)
                                        .addComponent(paidDatetext, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGroup(jPanel7Layout.createSequentialGroup()
                                    .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(18, 18, 18)
                                    .addComponent(phoneNumberText, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(69, 69, 69)
                        .addComponent(studentImagePanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(407, 407, 407)
                        .addComponent(jButton1)))
                .addContainerGap(554, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(nicText))
                        .addGap(20, 20, 20)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(nameText))
                        .addGap(20, 20, 20)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(addressText))
                        .addGap(20, 20, 20)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(phoneNumberText))
                        .addGap(20, 20, 20)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(paidDatetext))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(paidAmountText)))
                    .addComponent(studentImagePanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(53, 53, 53)
                .addComponent(jButton1)
                .addGap(132, 132, 132))
        );

        jTabbedPane2.addTab("     Student      ", jPanel7);

        jPanel8.setBackground(new java.awt.Color(58, 180, 188));

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel7.setText("Batch");

        batchComboAddmissionClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        categoryComboAddmissionclass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        categoryComboAddmissionclass.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Revision", "Theory" }));

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel8.setText("Category");

        subjctComboAddmissionClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jLabel14.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel14.setText("Subject");

        addmissionPamentDetailstable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Student Name", "NIC", "Address", "Paid Date", "Paid Amount"
            }
        ));
        jScrollPane1.setViewportView(addmissionPamentDetailstable);

        serachButtonAddmissionClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        serachButtonAddmissionClass.setText("Search");
        serachButtonAddmissionClass.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                serachButtonAddmissionClassActionPerformed(evt);
            }
        });

        jLabel18.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel18.setText("Filter           From ");

        jLabel19.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel19.setText("to");

        jLabel20.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel20.setText("   Total Income");

        totalIncometextAddmissionClass.setEditable(false);
        totalIncometextAddmissionClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        totalIncometextAddmissionClass.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        totalIncometextAddmissionClass.setText("0.0");

        PrintButtonAddmission.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        PrintButtonAddmission.setText("Print Details");
        PrintButtonAddmission.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                PrintButtonAddmissionActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(116, 116, 116)
                .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(batchComboAddmissionClass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(154, 154, 154)
                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(categoryComboAddmissionclass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 128, Short.MAX_VALUE)
                .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(subjctComboAddmissionClass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(44, 44, 44))
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(268, 268, 268)
                        .addComponent(jLabel18, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(fromDate, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel19)
                        .addGap(18, 18, 18)
                        .addComponent(toDate, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(45, 45, 45)
                        .addComponent(serachButtonAddmissionClass))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(65, 65, 65)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1131, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(351, 351, 351)
                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(totalIncometextAddmissionClass, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(PrintButtonAddmission, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(129, 129, 129))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(batchComboAddmissionClass, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE))
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(categoryComboAddmissionclass, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jLabel14, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(subjctComboAddmissionClass, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(serachButtonAddmissionClass)
                            .addComponent(fromDate, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel18)
                            .addComponent(jLabel19, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(toDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(43, 43, 43)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(34, 34, 34)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel20, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(totalIncometextAddmissionClass, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE))
                        .addContainerGap(124, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(PrintButtonAddmission, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(106, 106, 106))))
        );

        jTabbedPane2.addTab("    Class     ", jPanel8);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jTabbedPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 1293, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 555, Short.MAX_VALUE)
        );

        TabPane.addTab("  Admision Payments   ", jPanel2);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));

        jTabbedPane3.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jPanel10.setBackground(new java.awt.Color(244, 137, 48));

        jLabel22.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel22.setText("NIC");

        nicTextStudentClassFee.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        nicTextStudentClassFee.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nicTextStudentClassFeeActionPerformed(evt);
            }
        });
        nicTextStudentClassFee.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                nicTextStudentClassFeeKeyReleased(evt);
            }
        });

        jLabel23.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel23.setText("Name");

        nameTextStudentClassFee.setEditable(false);
        nameTextStudentClassFee.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jLabel24.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel24.setText("Batch");

        jLabel25.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel25.setText("Subject");

        acceptClassFeeButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/panola/images/1417001550_accepted_48.png"))); // NOI18N
        acceptClassFeeButton.setEnabled(false);
        acceptClassFeeButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                acceptClassFeeButtonActionPerformed(evt);
            }
        });

        jLabel26.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel26.setText("Address");

        addressTextStudentClassFee.setEditable(false);
        addressTextStudentClassFee.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        contatctNumberTextStudentClassFee.setEditable(false);
        contatctNumberTextStudentClassFee.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N

        jLabel27.setFont(new java.awt.Font("Tahoma", 0, 16)); // NOI18N
        jLabel27.setText("Contact Number");

        batchCombo.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        batchCombo.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                batchComboItemStateChanged(evt);
            }
        });
        batchCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                batchComboActionPerformed(evt);
            }
        });

        subjectCombo.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        subjectCombo.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                subjectComboItemStateChanged(evt);
            }
        });

        classFeeTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Payment Year", "Paid Mounth", "Paid Date", "Paid Amount"
            }
        ));
        jScrollPane5.setViewportView(classFeeTable);

        jLabel41.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel41.setText("Arrears");

        arrearsText.setEditable(false);
        arrearsText.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        arrearsText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        arrearsText.setText("0.0");
        arrearsText.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                arrearsTextActionPerformed(evt);
            }
        });

        jLabel42.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel42.setText("Paid Amount");

        piadAmountTextClassFee.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        piadAmountTextClassFee.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        piadAmountTextClassFee.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                piadAmountTextClassFeeActionPerformed(evt);
            }
        });
        piadAmountTextClassFee.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                piadAmountTextClassFeeKeyReleased(evt);
            }
        });

        jLabel43.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel43.setText("Balance");

        balanceTextClassFee.setEditable(false);
        balanceTextClassFee.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        balanceTextClassFee.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel66.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel66.setText("Category");

        categoryCombo.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        searchButton.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        searchButton.setText("Search");
        searchButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout studentImagePanel2Layout = new javax.swing.GroupLayout(studentImagePanel2);
        studentImagePanel2.setLayout(studentImagePanel2Layout);
        studentImagePanel2Layout.setHorizontalGroup(
            studentImagePanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 277, Short.MAX_VALUE)
        );
        studentImagePanel2Layout.setVerticalGroup(
            studentImagePanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 239, Short.MAX_VALUE)
        );

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel1.setText("V");

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(170, 170, 170)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addComponent(jLabel41, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(arrearsText, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addComponent(jLabel42, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(piadAmountTextClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addComponent(jLabel43, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(balanceTextClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(162, 162, 162)
                        .addComponent(acceptClassFeeButton)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGap(42, 42, 42)
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(43, 43, 43)
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addComponent(nicTextStudentClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 169, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel1))
                            .addComponent(addressTextStudentClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addGap(87, 87, 87)
                                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(nameTextStudentClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPanel10Layout.createSequentialGroup()
                                        .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(261, 261, 261))))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(contatctNumberTextStudentClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(153, 153, 153))
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addGap(59, 59, 59)
                                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 843, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(batchCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(36, 36, 36)
                                .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(subjectCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(52, 52, 52)
                                .addComponent(jLabel66, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(categoryCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(102, 102, 102)
                                .addComponent(searchButton)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addComponent(studentImagePanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(152, 152, 152))
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(15, 15, 15)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(nicTextStudentClassFee)
                            .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(nameTextStudentClassFee)
                            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel26, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(addressTextStudentClassFee)
                            .addComponent(jLabel27, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(contatctNumberTextStudentClassFee))
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel66, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(batchCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(subjectCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(categoryCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(7, 7, 7))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(searchButton)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)))
                        .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 155, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addComponent(studentImagePanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel41, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(arrearsText, javax.swing.GroupLayout.DEFAULT_SIZE, 27, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel42, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(piadAmountTextClassFee, javax.swing.GroupLayout.DEFAULT_SIZE, 27, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel43, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(balanceTextClassFee, javax.swing.GroupLayout.DEFAULT_SIZE, 27, Short.MAX_VALUE)))
                    .addComponent(acceptClassFeeButton))
                .addGap(217, 217, 217))
        );

        jTabbedPane3.addTab("     Student      ", jPanel10);

        jPanel11.setBackground(new java.awt.Color(242, 145, 206));

        jLabel29.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel29.setText("Batch");

        batchComboClassFeeClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        categoryComboClassFeeClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        categoryComboClassFeeClass.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Revision", "Theory" }));

        jLabel30.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel30.setText("Category");

        subjectComboClassFeeClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jLabel32.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel32.setText("Subject");

        classFeeClasstable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null},
                {null, null, null, null, null, null}
            },
            new String [] {
                "Student Name", "NIC", "Address", "Payment For", "Paid Date", "Paid Amount"
            }
        ));
        jScrollPane3.setViewportView(classFeeClasstable);

        searchButtonClassFeeClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        searchButtonClassFeeClass.setText("Search");
        searchButtonClassFeeClass.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchButtonClassFeeClassActionPerformed(evt);
            }
        });

        jLabel33.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel33.setText("Filter     from ");

        jLabel34.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel34.setText("to");

        jLabel35.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel35.setText("   Total Income");

        totalClassFeeClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        totalClassFeeClass.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        totalClassFeeClass.setText("0.0");

        printButon.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        printButon.setText("Print Details");
        printButon.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printButonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(117, 117, 117)
                .addComponent(jLabel29, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(batchComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 76, Short.MAX_VALUE)
                .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(subjectComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(200, 200, 200)
                .addComponent(jLabel30, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(categoryComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(71, 71, 71))
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(39, 39, 39)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 1132, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(249, 249, 249)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(jLabel33, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(dateFromComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel34)
                        .addGap(18, 18, 18)
                        .addComponent(dateToComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(45, 45, 45)
                        .addComponent(searchButtonClassFeeClass))
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(jLabel35, javax.swing.GroupLayout.PREFERRED_SIZE, 112, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(totalClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(251, 251, 251)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(printButon)
                .addGap(221, 221, 221))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jLabel29, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(batchComboClassFeeClass, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE))
                    .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel30, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(subjectComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel32, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addComponent(categoryComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(searchButtonClassFeeClass)
                    .addComponent(dateFromComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel33)
                    .addComponent(jLabel34, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateToComboClassFeeClass, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addGap(59, 59, 59)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(totalClassFeeClass, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE))
                        .addContainerGap(124, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel11Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(printButon)
                        .addGap(109, 109, 109))))
        );

        jTabbedPane3.addTab("    Class     ", jPanel11);

        jPanel4.setBackground(new java.awt.Color(38, 160, 239));

        jLabel36.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel36.setText("Filter     from ");

        jLabel37.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel37.setText("to");

        searchButtonClassFeeInstitute.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        searchButtonClassFeeInstitute.setText("Search");
        searchButtonClassFeeInstitute.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchButtonClassFeeInstituteActionPerformed(evt);
            }
        });

        ClassFeeInstitute.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null}
            },
            new String [] {
                "Batch", "Subject", "Category", "Name", "Fee", "Paid Date", "Payment For(Year)", "Payment For (Month)"
            }
        ));
        jScrollPane2.setViewportView(ClassFeeInstitute);

        jLabel6.setFont(new java.awt.Font("Aharoni", 1, 14)); // NOI18N
        jLabel6.setText("Total");

        totalTextClasseFeeInstitute.setFont(new java.awt.Font("AWLUnicode", 1, 14)); // NOI18N
        totalTextClasseFeeInstitute.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        totalTextClasseFeeInstitute.setText("0.0");

        printButtonIntituteClassFee.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        printButtonIntituteClassFee.setText("Print Details");
        printButtonIntituteClassFee.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printButtonIntituteClassFeeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(126, 126, 126)
                        .addComponent(jLabel36, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(dateFromComboClassFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel37)
                        .addGap(18, 18, 18)
                        .addComponent(dateToComboClassFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(45, 45, 45)
                        .addComponent(searchButtonClassFeeInstitute))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(40, 40, 40)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 1208, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(40, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(totalTextClasseFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(100, 100, 100)
                .addComponent(printButtonIntituteClassFee)
                .addGap(144, 144, 144))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(searchButtonClassFeeInstitute)
                    .addComponent(dateFromComboClassFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel36)
                    .addComponent(jLabel37, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateToComboClassFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 246, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(totalTextClasseFeeInstitute, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(156, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(printButtonIntituteClassFee, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(114, 114, 114))))
        );

        jTabbedPane3.addTab("      Institute    ", jPanel4);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jTabbedPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 1293, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 555, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        TabPane.addTab("   Class Fee Payments     ", jPanel3);

        jTabbedPane6.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jPanel18.setBackground(new java.awt.Color(62, 126, 203));

        jLabel69.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel69.setText("Batch");

        batchComboArrearsClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        subjectComboArrearsClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        jLabel70.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel70.setText("Subject");

        categoryComboArrearsClass.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        categoryComboArrearsClass.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Revision", "Theory" }));

        jLabel71.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel71.setText("Category");

        searchArrearsClassButton.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        searchArrearsClassButton.setText("Search");
        searchArrearsClassButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchArrearsClassButtonActionPerformed(evt);
            }
        });

        ArrearsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null},
                {null, null, null},
                {null, null, null},
                {null, null, null}
            },
            new String [] {
                "Name", "Address", "Contact Number"
            }
        ));
        jScrollPane10.setViewportView(ArrearsTable);

        jLabel13.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel13.setText("Year");

        jLabel31.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel31.setText("Month");

        yearSpinner.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        yearSpinner.setToolTipText("2016");
        yearSpinner.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        yearSpinner.setName(""); // NOI18N

        monthSpinner.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        printButton.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        printButton.setText("Print Details");
        printButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel18Layout = new javax.swing.GroupLayout(jPanel18);
        jPanel18.setLayout(jPanel18Layout);
        jPanel18Layout.setHorizontalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel18Layout.createSequentialGroup()
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addGap(50, 50, 50)
                        .addComponent(jScrollPane10, javax.swing.GroupLayout.PREFERRED_SIZE, 1170, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel18Layout.createSequentialGroup()
                                .addGap(299, 299, 299)
                                .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(yearSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(78, 78, 78)
                                .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(29, 29, 29)
                                .addComponent(monthSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel18Layout.createSequentialGroup()
                                .addGap(21, 21, 21)
                                .addComponent(jLabel69, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(batchComboArrearsClass, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(90, 90, 90)
                                .addComponent(jLabel70, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(subjectComboArrearsClass, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(91, 91, 91)
                                .addComponent(jLabel71, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel18Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(categoryComboArrearsClass, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel18Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(searchArrearsClassButton, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(163, 163, 163)))))
                .addContainerGap(63, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel18Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(printButton)
                .addGap(182, 182, 182))
        );
        jPanel18Layout.setVerticalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel18Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel69, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(batchComboArrearsClass)
                    .addComponent(jLabel70, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(subjectComboArrearsClass, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel71, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(categoryComboArrearsClass, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(13, 13, 13)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel18Layout.createSequentialGroup()
                        .addComponent(searchArrearsClassButton, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(41, 41, 41))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel18Layout.createSequentialGroup()
                        .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel31, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(yearSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(monthSpinner, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(32, 32, 32)))
                .addComponent(jScrollPane10, javax.swing.GroupLayout.PREFERRED_SIZE, 181, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(61, 61, 61)
                .addComponent(printButton)
                .addGap(79, 79, 79))
        );

        jTabbedPane6.addTab("    Class    ", jPanel18);

        TabPane.addTab("    Arrears    ", jTabbedPane6);

        javax.swing.GroupLayout jXImagePanel1Layout = new javax.swing.GroupLayout(jXImagePanel1);
        jXImagePanel1.setLayout(jXImagePanel1Layout);
        jXImagePanel1Layout.setHorizontalGroup(
            jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator1)
            .addGroup(jXImagePanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jXImagePanel1Layout.createSequentialGroup()
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 412, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 725, Short.MAX_VALUE)
                        .addGroup(jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(dateLable, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(TimeLable, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(65, 65, 65))
                    .addGroup(jXImagePanel1Layout.createSequentialGroup()
                        .addGap(15, 15, 15)
                        .addGroup(jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(TabPane, javax.swing.GroupLayout.PREFERRED_SIZE, 1293, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap(28, Short.MAX_VALUE))))
        );
        jXImagePanel1Layout.setVerticalGroup(
            jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jXImagePanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TabPane, javax.swing.GroupLayout.PREFERRED_SIZE, 499, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 16, Short.MAX_VALUE)
                .addGroup(jXImagePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jXImagePanel1Layout.createSequentialGroup()
                        .addComponent(TimeLable, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(dateLable, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jXImagePanel1Layout.createSequentialGroup()
                        .addComponent(jButton3)
                        .addGap(26, 26, 26))))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jXImagePanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 20, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jXImagePanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void newStudentMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_newStudentMouseClicked

    }//GEN-LAST:event_newStudentMouseClicked

    private void newStudentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_newStudentActionPerformed
        AddAStudent addAStudent = new AddAStudent();
        addAStudent.setVisible(true);
        this.dispose();
    }//GEN-LAST:event_newStudentActionPerformed

    private void viewStudentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_viewStudentActionPerformed
        ViewStudentDetails viewStudentDetails = new ViewStudentDetails();
        viewStudentDetails.setVisible(true);
        this.dispose();
    }//GEN-LAST:event_viewStudentActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        MainWindow mWindow = new MainWindow();
        mWindow.setVisible(true);
        this.dispose();
    }//GEN-LAST:event_jButton3ActionPerformed

    private void nicTextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nicTextActionPerformed
        String NIC = nicText.getText();
        try {
            StudentAddmissionDetails studentAddmissionDetails = StudentController.searchStudentAddmissionDetails(NIC);
            if (studentAddmissionDetails != null) {
                nameText.setText(studentAddmissionDetails.getName());
                addressText.setText(studentAddmissionDetails.getAddress());
                phoneNumberText.setText(studentAddmissionDetails.getContact_Number());
                paidDatetext.setText(studentAddmissionDetails.getDate().toString());
                paidAmountText.setText(Integer.toString(studentAddmissionDetails.getFee()));
                loadPhoto(studentImagePanel1, NIC);
            } else {
                JOptionPane.showMessageDialog(this, "No Such Student");
            }
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_nicTextActionPerformed

    private void nicTextStudentClassFeeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nicTextStudentClassFeeActionPerformed
        String NIC = nicTextStudentClassFee.getText();
        try {
            Student student = StudentController.searchStudentDetails(NIC);
            if (student != null) {
                nameTextStudentClassFee.setText(student.getName());
                addressTextStudentClassFee.setText(student.getAddress());
                contatctNumberTextStudentClassFee.setText(student.getContatct_Number());
                Methods.fillBatchComboUsingNIC(NIC, batchCombo);
                Methods.fillSubjectComboUsingBatch(batchCombo.getSelectedItem().toString(), subjectCombo, NIC);
                Methods.fillCategoryComboUsingSubject(batchCombo.getSelectedItem().toString(), subjectCombo.getSelectedItem().toString(), categoryCombo, NIC);
                loadPhoto(studentImagePanel2, NIC);
            } else {
                JOptionPane.showMessageDialog(this, "No Student Found");
            }
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }


    }//GEN-LAST:event_nicTextStudentClassFeeActionPerformed

    private void batchComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_batchComboActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_batchComboActionPerformed

    private void batchComboItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_batchComboItemStateChanged
        String NIC = nicTextStudentClassFee.getText();
        try {
            Methods.fillSubjectComboUsingBatch(batchCombo.getSelectedItem().toString(), subjectCombo, NIC);
            Methods.fillCategoryComboUsingSubject(batchCombo.getSelectedItem().toString(), subjectCombo.getSelectedItem().toString(), categoryCombo, NIC);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (NullPointerException ex) {

        }

    }//GEN-LAST:event_batchComboItemStateChanged

    private void subjectComboItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_subjectComboItemStateChanged
        String NIC = nicTextStudentClassFee.getText();
        try {
            Methods.fillCategoryComboUsingSubject(batchCombo.getSelectedItem().toString(), subjectCombo.getSelectedItem().toString(), categoryCombo, NIC);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (NullPointerException ex) {

        }
    }//GEN-LAST:event_subjectComboItemStateChanged

    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonActionPerformed
        StudentBatchSubjectDetails studentBatchSubjectDetails;
        try {
            studentBatchSubjectDetails = new StudentBatchSubjectDetails(nicTextStudentClassFee.getText(), batchCombo.getSelectedItem().toString(), SubjectController.getSubjectID(subjectCombo.getSelectedItem().toString()), categoryCombo.getSelectedItem().toString());
            ArrayList<StudentClassFeePayment> studentClassFeePayment = StudentClassFeeController.searchStudentAllPayment(studentBatchSubjectDetails);
            DefaultTableModel dtm = (DefaultTableModel) classFeeTable.getModel();
            dtm.setRowCount(0);
            for (StudentClassFeePayment student : studentClassFeePayment) {
                Object[] rawData = {student.getPaymentYear(), student.getPaymentMounth(), student.getStudentID(), student.getFee()};
                dtm.addRow(rawData);
            }
            String classFee = SubjectController.getClassFee(SubjectController.getSubjectID(subjectCombo.getSelectedItem().toString()));
            int lastYear = (int) dtm.getValueAt(dtm.getRowCount() - 1, 0);
            int lastMounth = (int) dtm.getValueAt(dtm.getRowCount() - 1, 1);
            int thisMounth = Integer.parseInt(dateLable.getText().substring(5, 7));
            int thisYear = Integer.parseInt(dateLable.getText().substring(0, 4));
            if (lastYear == thisYear) {
                int gap = thisMounth - lastMounth;
                double arrears = gap * Double.parseDouble(classFee);
                arrearsText.setText(Double.toString(arrears));
            }

        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ArrayIndexOutOfBoundsException ex) {

        }


    }//GEN-LAST:event_searchButtonActionPerformed

    private void serachButtonAddmissionClassActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_serachButtonAddmissionClassActionPerformed
        String batch = batchComboAddmissionClass.getSelectedItem().toString();
        String catgory = categoryComboAddmissionclass.getSelectedItem().toString();
        String subject = subjctComboAddmissionClass.getSelectedItem().toString();
        try {
            if (fromDate != null & toDate != null) {
                Date dateFrom;
                Date dateTo;

                String resultDateFrom;
                String resultDateTo;

                SimpleDateFormat formatter;
                formatter = new SimpleDateFormat("yyyy/MM/dd");
                dateFrom = fromDate.getDate();
                dateTo = toDate.getDate();

                resultDateFrom = formatter.format(dateFrom);
                resultDateTo = formatter.format(dateTo);

                if (dateFrom.before(dateTo)) {
                    AddmissionPaymentDetails addmission = new AddmissionPaymentDetails(batch, catgory, subject, resultDateFrom, resultDateTo);
                    ArrayList<AddmissionPaymentDetails> studentAddmissionDetailses = AddmitionController.viewDetails(addmission);
                    DefaultTableModel dtm = (DefaultTableModel) addmissionPamentDetailstable.getModel();
                    dtm.setRowCount(0);
                    double Total = 0;
                    for (AddmissionPaymentDetails student : studentAddmissionDetailses) {
                        Object[] ob = {student.getBatch(), student.getCategory(), student.getSubject(), student.getDate(), student.getFee()};
                        dtm.addRow(ob);

                    }
                    for (int i = 0; i < dtm.getRowCount(); i++) {
                        Total = Total + Double.parseDouble(String.valueOf(dtm.getValueAt(i, 4)));
                    }
                    totalIncometextAddmissionClass.setText(String.valueOf(Total));
                } else {
                    JOptionPane.showMessageDialog(this, "Please Enter Date Correctly");
                }
            }
        } catch (NullPointerException ex) {
            JOptionPane.showMessageDialog(this, "Please Select A Date");
        } catch (RuntimeException ex) {
            JOptionPane.showMessageDialog(this, "RunTime Error");
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_serachButtonAddmissionClassActionPerformed

    private void searchButtonClassFeeClassActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonClassFeeClassActionPerformed
        try {
            if (dateFromComboClassFeeClass != null & dateToComboClassFeeClass != null) {
                Date dateFrom;
                Date dateTo;

                String resultDateFrom;
                String resultDateTo;

                SimpleDateFormat formatter;
                formatter = new SimpleDateFormat("yyyy/MM/dd");
                dateFrom = dateFromComboClassFeeClass.getDate();
                dateTo = dateToComboClassFeeClass.getDate();

                resultDateFrom = formatter.format(dateFrom);
                resultDateTo = formatter.format(dateTo);

                if (dateFrom.before(dateTo)) {
                    PaymentHistory paymentHistory = new PaymentHistory(batchComboClassFeeClass.getSelectedItem().toString(), SubjectController.getSubjectID(subjectComboClassFeeClass.getSelectedItem().toString()), categoryComboClassFeeClass.getSelectedItem().toString(), resultDateFrom, resultDateTo);
                    ArrayList<PaymentHistory> paymentDetails = StudentClassFeeController.searchStudentClassFeePayment(paymentHistory);
                    DefaultTableModel dtm = (DefaultTableModel) classFeeClasstable.getModel();
                    dtm.setRowCount(0);
                    double Total = 0;
                    for (PaymentHistory payment : paymentDetails) {
                        Object[] rawData = {payment.getStudentName(), payment.getNIC(), payment.getAddress(), payment.getPaymentFor(), payment.getPaidDate(), payment.getPaidAmount()};
                        dtm.addRow(rawData);
                    }
                    for (int i = 0; i < dtm.getRowCount(); i++) {
                        Total = Total + Double.parseDouble(String.valueOf(dtm.getValueAt(i, 5)));
                    }
                    totalClassFeeClass.setText(String.valueOf(Total));
                } else {
                    JOptionPane.showMessageDialog(this, "Please Enter Date Correctly");
                }
            }
        } catch (NullPointerException ex) {
            JOptionPane.showMessageDialog(this, "Please Select A Date");
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }


    }//GEN-LAST:event_searchButtonClassFeeClassActionPerformed

    private void arrearsTextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_arrearsTextActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_arrearsTextActionPerformed

    private void piadAmountTextClassFeeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_piadAmountTextClassFeeActionPerformed
        double Balance = Double.parseDouble(piadAmountTextClassFee.getText()) - Double.parseDouble(arrearsText.getText());
        if (!arrearsText.getText().equals("0.0") && Balance >= 0.0) {
            balanceTextClassFee.setText(Double.toString(Balance));
            acceptClassFeeButton.setEnabled(true);
        }
    }//GEN-LAST:event_piadAmountTextClassFeeActionPerformed

    private void acceptClassFeeButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_acceptClassFeeButtonActionPerformed
        String Batch = batchCombo.getSelectedItem().toString();
        try {
            String SubjectID = SubjectController.getSubjectID(subjectCombo.getSelectedItem().toString());
            String category = categoryCombo.getSelectedItem().toString();
            String LastID = StudentBatchSubjectDetailsController.getLastID(Batch, SubjectID, nicTextStudentClassFee.getText(), category);
            if (LastID != null) {
                String classFee = SubjectController.getClassFee(SubjectController.getSubjectID(subjectCombo.getSelectedItem().toString()));
                int aressMounths = (int) (Double.parseDouble(arrearsText.getText()) / Double.parseDouble(classFee));
                for (int i = aressMounths; i > 0; i--) {
                    String PaymentID = IDGenarator.getNewID("Payment", "PID", "P");

                    Payment payment = new Payment(PaymentID, dateLable.getText(), "Class Fee for '" + (Integer.parseInt(dateLable.getText().substring(5, 7)) + i) + "'");
                    int res1 = PaymentController.addPayment(payment);
                    if (res1 > 0) {
                        JOptionPane.showMessageDialog(this, "Mounthly Payment Paid");
                        StudentClassFeePayment studentClassFeePayment = new StudentClassFeePayment(LastID, PaymentID, Double.parseDouble(classFee), Integer.parseInt(dateLable.getText().substring(0, 4)), Integer.parseInt(dateLable.getText().substring(5, 7)));
                        int res2 = StudentClassFeeController.addNewClassFeePayment(studentClassFeePayment);
                        if (res2 > 0) {
                            JOptionPane.showMessageDialog(this, "Added Class Payment");

                        }
                    }
                }
            }

        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_acceptClassFeeButtonActionPerformed

    private void searchArrearsClassButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchArrearsClassButtonActionPerformed
        String Year = batchComboArrearsClass.getSelectedItem().toString();
        String SubjectID;
        try {
            SubjectID = SubjectController.getSubjectID(subjectComboArrearsClass.getSelectedItem().toString());
            String category = categoryComboArrearsClass.getSelectedItem().toString();
            int selectedYear = (int) yearSpinner.getValue();
            int selectedMounth = (int) monthSpinner.getValue();
            if (selectedMounth >= 1 && selectedMounth <= 12) {
                ArrayList<Student> studentList = StudentClassFeeController.getArrearsList(selectedYear, selectedMounth, Year, SubjectID, category);
                DefaultTableModel dtm = (DefaultTableModel) ArrearsTable.getModel();
                dtm.setRowCount(0);
                for (Student student : studentList) {
                    Object[] rawData = {student.getName(), student.getAddress(), student.getContatct_Number()};
                    dtm.addRow(rawData);
                }
            } else {
                JOptionPane.showMessageDialog(this, "Please Enter Mounth Correctly");
            }
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_searchArrearsClassButtonActionPerformed

    private void printButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printButtonActionPerformed
        try {
            JasperReport compileReport = JasperCompileManager.compileReport("./src/Reports/ClassFeeArries.jrxml");
            //JRTableModelDataSource datasource=new JRTableModelDataSource(ArrearsTable.getModel());
            Map<String, Object> map = new java.util.HashMap<>();
            map.put("Year", batchComboArrearsClass.getSelectedItem().toString());
            map.put("Subject", subjectComboArrearsClass.getSelectedItem().toString());
            map.put("Category", categoryComboArrearsClass.getSelectedItem().toString());
            map.put("SearchYear", yearSpinner.getValue().toString());
            map.put("SearchMonth", monthSpinner.getValue().toString());
            JasperPrint fillReport = JasperFillManager.fillReport(compileReport, map, DBConnection.getDBConnection().getConnection());
            JasperViewer.viewReport(fillReport, false);
        } catch (JRException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_printButtonActionPerformed

    private void PrintButtonAddmissionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_PrintButtonAddmissionActionPerformed
        try {
            JasperReport compileReport = JasperCompileManager.compileReport("./src/Reports/StudentAddmissionPaymentDetails.jrxml");
            Map<String, Object> map = new java.util.HashMap<>();
            map.put("Batch", batchComboAddmissionClass.getSelectedItem().toString());
            map.put("Category", categoryComboAddmissionclass.getSelectedItem().toString());
            map.put("Subject", subjctComboAddmissionClass.getSelectedItem().toString());
            map.put("DateFrom", fromDate.getDate());
            map.put("DateTo", toDate.getDate());
            map.put("Total", totalIncometextAddmissionClass.getText());
            JasperPrint fillReport = JasperFillManager.fillReport(compileReport, map, DBConnection.getDBConnection().getConnection());
            JasperViewer.viewReport(fillReport, false);
        } catch (JRException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_PrintButtonAddmissionActionPerformed

    private void printButonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printButonActionPerformed
        try {
            JasperReport compileReport = JasperCompileManager.compileReport("./src/reports/ClassFeeIncomeForTimePeriod.jrxml");
            Map<String, Object> map = new java.util.HashMap<>();
            map.put("Batch", batchComboClassFeeClass.getSelectedItem().toString());
            map.put("Subject", subjectComboClassFeeClass.getSelectedItem().toString());
            map.put("Category", categoryComboClassFeeClass.getSelectedItem().toString());
            map.put("DateFrom", dateFromComboClassFeeClass.getDate());
            map.put("DateTo", dateToComboClassFeeClass.getDate());
            map.put("Total", totalClassFeeClass.getText());
            JasperPrint fillReport = JasperFillManager.fillReport(compileReport, map, DBConnection.getDBConnection().getConnection());
            JasperViewer.viewReport(fillReport, false);
        } catch (JRException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_printButonActionPerformed

    private void searchButtonClassFeeInstituteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonClassFeeInstituteActionPerformed
        if (dateFromComboClassFeeInstitute != null & dateToComboClassFeeInstitute != null) {
            Date dateFrom = dateFromComboClassFeeInstitute.getDate();
            Date dateTo = dateToComboClassFeeInstitute.getDate();

            String resultDateFrom;
            String resultDateTo;

            SimpleDateFormat fomatter = new SimpleDateFormat("yyyy/MM/dd");
            resultDateFrom = fomatter.format(dateFrom);
            resultDateTo = fomatter.format(dateTo);
            if (dateFrom.before(dateTo)) {
                PaymentHistory paymentHistory = new PaymentHistory(resultDateFrom, resultDateTo);
                ArrayList<PaymentHistory> paymentHistory1;
                try {
                    double Total=0;
                    paymentHistory1 = StudentClassFeeController.searchStudentClassFeeForInstitute(paymentHistory);
                    DefaultTableModel dtm = (DefaultTableModel) ClassFeeInstitute.getModel();
                    dtm.setRowCount(0);
                    for (PaymentHistory payment : paymentHistory1) {
                        Object[] ob={payment.getBatch(),payment.getSubject(),payment.getCategory(),payment.getStudentName(),payment.getPaidAmount(),payment.getPaidDate(),payment.getFromDate(),payment.getToDate()};
                        dtm.addRow(ob);
                    }
                    for (int i = 0; i < dtm.getRowCount(); i++) {
                        Total = Total + Double.parseDouble(String.valueOf(dtm.getValueAt(i, 4)));
                    }
                    totalTextClasseFeeInstitute.setText(String.valueOf(Total));
                } catch (ClassNotFoundException ex) {
                    Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
                } catch (SQLException ex) {
                    Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
                } catch(NullPointerException ex){
                    JOptionPane.showMessageDialog(this, "Please Input Date Correctly");
                }

            } else {
                JOptionPane.showMessageDialog(this, "Please Input Dates Correctly");
            }
        } else {
            JOptionPane.showMessageDialog(this, "Please Input Date");
        }
    }//GEN-LAST:event_searchButtonClassFeeInstituteActionPerformed

    private void printButtonIntituteClassFeeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printButtonIntituteClassFeeActionPerformed
        try {
            JasperReport compileReport=JasperCompileManager.compileReport("./src/reports/IntituteClassFeeIncome.jrxml");
            Map<String, Object> map=new java.util.HashMap<>();
            map.put("DateFrom", dateFromComboClassFeeInstitute.getDate());
            map.put("DateTo", dateToComboClassFeeInstitute.getDate());
            map.put("Total", totalTextClasseFeeInstitute.getText());
            JasperPrint fillReport=JasperFillManager.fillReport(compileReport, map, DBConnection.getDBConnection().getConnection());
            JasperViewer.viewReport(fillReport,false);
        } catch (JRException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(Payments.class.getName()).log(Level.SEVERE, null, ex);
        }
        
    }//GEN-LAST:event_printButtonIntituteClassFeeActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton1ActionPerformed

    private void nicTextKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nicTextKeyReleased
        String text = nicText.getText();
        boolean matches = text.matches("[0-9]{0,9}");
        if (!matches) {
            nicText.setText(text.substring(0, text.length() - 1));
        }
    }//GEN-LAST:event_nicTextKeyReleased

    private void nicTextStudentClassFeeKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nicTextStudentClassFeeKeyReleased
        String text = nicTextStudentClassFee.getText();
        boolean matches = text.matches("[0-9]{0,9}");
        if (!matches) {
            nicTextStudentClassFee.setText(text.substring(0, text.length() - 1));
        }
    }//GEN-LAST:event_nicTextStudentClassFeeKeyReleased

    private void piadAmountTextClassFeeKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_piadAmountTextClassFeeKeyReleased
        String text = paidAmountText.getText();
        boolean matches = text.matches("[0-9]{0,9}");
        if (!matches) {
            paidAmountText.setText(text.substring(0, text.length() - 1));
        }
    }//GEN-LAST:event_piadAmountTextClassFeeKeyReleased

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;

                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Payments.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Payments.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Payments.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Payments.class
                    .getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Payments().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTable ArrearsTable;
    private javax.swing.JTable ClassFeeInstitute;
    private javax.swing.JButton PrintButtonAddmission;
    private javax.swing.JTabbedPane TabPane;
    private javax.swing.JLabel TimeLable;
    private javax.swing.JButton acceptClassFeeButton;
    private javax.swing.JTable addmissionPamentDetailstable;
    private javax.swing.JTextField addressText;
    private javax.swing.JTextField addressTextStudentClassFee;
    private javax.swing.JTextField arrearsText;
    private javax.swing.JTextField balanceTextClassFee;
    private javax.swing.JComboBox batchCombo;
    private javax.swing.JComboBox batchComboAddmissionClass;
    private javax.swing.JComboBox batchComboArrearsClass;
    private javax.swing.JComboBox batchComboClassFeeClass;
    private javax.swing.JComboBox categoryCombo;
    private javax.swing.JComboBox categoryComboAddmissionclass;
    private javax.swing.JComboBox categoryComboArrearsClass;
    private javax.swing.JComboBox categoryComboClassFeeClass;
    private javax.swing.JTable classFeeClasstable;
    private javax.swing.JTable classFeeTable;
    private javax.swing.JTextField contatctNumberTextStudentClassFee;
    private org.jdesktop.swingx.JXDatePicker dateFromComboClassFeeClass;
    private org.jdesktop.swingx.JXDatePicker dateFromComboClassFeeInstitute;
    private javax.swing.JLabel dateLable;
    private org.jdesktop.swingx.JXDatePicker dateToComboClassFeeClass;
    private org.jdesktop.swingx.JXDatePicker dateToComboClassFeeInstitute;
    private org.jdesktop.swingx.JXDatePicker fromDate;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton3;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel66;
    private javax.swing.JLabel jLabel69;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel70;
    private javax.swing.JLabel jLabel71;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane10;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JTabbedPane jTabbedPane3;
    private javax.swing.JTabbedPane jTabbedPane6;
    private org.jdesktop.swingx.JXImagePanel jXImagePanel1;
    private javax.swing.JSpinner monthSpinner;
    private javax.swing.JTextField nameText;
    private javax.swing.JTextField nameTextStudentClassFee;
    private javax.swing.JMenuItem newStudent;
    private javax.swing.JMenuItem newSubject;
    private javax.swing.JTextField nicText;
    private javax.swing.JTextField nicTextStudentClassFee;
    private javax.swing.JTextField paidAmountText;
    private javax.swing.JTextField paidDatetext;
    private javax.swing.JTextField phoneNumberText;
    private javax.swing.JTextField piadAmountTextClassFee;
    private javax.swing.JButton printButon;
    private javax.swing.JButton printButton;
    private javax.swing.JButton printButtonIntituteClassFee;
    private javax.swing.JButton searchArrearsClassButton;
    private javax.swing.JButton searchButton;
    private javax.swing.JButton searchButtonClassFeeClass;
    private javax.swing.JButton searchButtonClassFeeInstitute;
    private javax.swing.JButton serachButtonAddmissionClass;
    private javax.swing.JPanel studentImagePanel1;
    private javax.swing.JPanel studentImagePanel2;
    private javax.swing.JPopupMenu studentPopupMenu;
    private javax.swing.JComboBox subjctComboAddmissionClass;
    private javax.swing.JComboBox subjectCombo;
    private javax.swing.JComboBox subjectComboArrearsClass;
    private javax.swing.JComboBox subjectComboClassFeeClass;
    private javax.swing.JPopupMenu subjectPopupMenu;
    private org.jdesktop.swingx.JXDatePicker toDate;
    private javax.swing.JTextField totalClassFeeClass;
    private javax.swing.JTextField totalIncometextAddmissionClass;
    private javax.swing.JTextField totalTextClasseFeeInstitute;
    private org.jdatepicker.impl.UtilDateModel utilDateModel1;
    private javax.swing.JMenuItem viewStudent;
    private javax.swing.JMenuItem viewSubject;
    private javax.swing.JSpinner yearSpinner;
    // End of variables declaration//GEN-END:variables

    private void setDateAndTime() {
        Date date = new Date();
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy/MM/dd");
        String formetedDate = simpleDateFormat.format(date);
        dateLable.setText(formetedDate);

        Thread t1 = new Thread() {

            @Override
            public void run() {
                while (true) {
                    Date date = new Date();
                    SimpleDateFormat simpleTimeFormat = new SimpleDateFormat("hh:mm:ss a");
                    String formatedTime = simpleTimeFormat.format(date);
                    TimeLable.setText(formatedTime);
                    try {
                        Thread.sleep(1000);

                    } catch (InterruptedException ex) {
                        Logger.getLogger(Payments.class
                                .getName()).log(Level.SEVERE, null, ex);
                    }
                }
            }

        };
        t1.start();
    }

    private void setBackgroundColourMouseEnter(JXLabel Label) {
        Label.setBackground(Color.white);
    }

    private void setBackgroundColourMouseExit(JXLabel Label) {
        Label.setBackgroundPainter(null);
    }

    private void showPopupMenu(MouseEvent evt) {
        studentPopupMenu.show(this, evt.getX(), evt.getY());
    }

    private void formMousePressed(MouseEvent evt) {
        if (evt.isPopupTrigger()) {
            showPopupMenu(evt);
        }
    }

    private void formMouseReleased(MouseEvent evt) {
        if (evt.isPopupTrigger()) {
            showPopupMenu(evt);
        }
    }

    private void showTimeTabelPopupMenu(MouseEvent evt) {
        subjectPopupMenu.show(this, evt.getX(), evt.getY());
    }

    private void fillSubjectComboBox() throws ClassNotFoundException, SQLException {
        String NIC = nicTextStudentClassFee.getText();
        String Year = batchCombo.getSelectedItem().toString();
        ArrayList<StudentBatchSubjectDetails> studentsBatch = StudentController.searchStudentSubject(NIC, Year);
        subjectCombo.removeAll();
        for (StudentBatchSubjectDetails students : studentsBatch) {
            subjectCombo.addItem(students.getLastID());
        }
        fillCategoryCombo();
    }

    private void fillCategoryCombo() throws ClassNotFoundException, SQLException {
        String NIC = nicTextStudentClassFee.getText();
        String Year = batchCombo.getSelectedItem().toString();
        String SubjectID = SubjectController.getSubjectID(subjectCombo.getSelectedItem().toString());
        ArrayList<StudentBatchSubjectDetails> student = StudentController.searchStudentCategory(NIC, Year, SubjectID);
        categoryCombo.removeAll();
        for (StudentBatchSubjectDetails student1 : student) {
            categoryCombo.addItem(student1.getLastID());
        }
    }

    private void loadPhoto(JPanel ImagePanel, String NIC) throws ClassNotFoundException, SQLException {
        StudentImage studentImage = StudentImageController.searchImage(NIC);
        if (studentImage != null) {
            ImageIcon image = new ImageIcon("./src/" + NIC + ".png");
            JLabel background = new JLabel(image);
            background.setBounds(0, 0, 300, 250);
            getLayeredPane().add(background, new Integer(Integer.MIN_VALUE));
            ImagePanel.removeAll();
            ImagePanel.add(background);
            ImagePanel.revalidate();
            ImagePanel.repaint();
        }
    }
}
